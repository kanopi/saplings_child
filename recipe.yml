name: "Saplings - Child Theme"
description: "Configures the child theme and dependencies."
type: "Site"
recipes:
  - saplings-theme
install:
  # Core.
  - help
  # Contrib.
  - ds
  - ds_extras
  - layout_options
  - ui_patterns
  - ui_patterns_ds
  - ui_patterns_layouts
  - ui_patterns_library
  - ui_patterns_field_formatters
  - ui_patterns_settings
  - ui_skins
  - ui_styles
  # The block configs were copied into this recipe.
  - ui_suite_bootstrap
config:
  import:
    # Only Display suite has config.
    ds: "*"
    # Import blocks that Stark does not automatically create below.
    ui_suite_bootstrap:
      - block.block.ui_suite_bootstrap_breadcrumbs
      - block.block.ui_suite_bootstrap_content
      - block.block.ui_suite_bootstrap_footer
      - block.block.ui_suite_bootstrap_help
      - block.block.ui_suite_bootstrap_main_menu
      - block.block.ui_suite_bootstrap_messages
      - block.block.ui_suite_bootstrap_page_title
      saplings_theme:
      - block.block.saplings_theme_breadcrumbs
      - block.block.saplings_theme_content
      - block.block.saplings_theme_footer
      - block.block.saplings_theme_help
      - block.block.saplings_theme_main_menu
      - block.block.saplings_theme_messages
      - block.block.saplings_theme_page_title
  actions:
    # Allow Display Suite on fields and Layouts.
    ds.settings:
      simple_config_update:
        field_template: true
        ft-layout-builder: true
    # When a theme is enabled in Drupal, the blocks of the existing theme are
    # automaticaly duplicated. In our case, on minimal, the theme is Stark.
    # We set the blocks we don't want to false, and alter the config of the
    # blocks that were created.
    block.block.ui_suite_bootstrap_admin:
      simple_config_update:
        status: false
    block.block.ui_suite_bootstrap_branding:
      simple_config_update:
        region: navigation
        weight: 0
    block.block.ui_suite_bootstrap_local_actions:
      simple_config_update:
        region: header
        weight: 20
    block.block.ui_suite_bootstrap_local_tasks:
      simple_config_update:
        region: header
        weight: 10
    block.block.ui_suite_bootstrap_page_title:
      simple_config_update:
        region: header
        weight: 0
    block.block.ui_suite_bootstrap_tools:
      simple_config_update:
        region: sidebar_first
        weight: 0   
    block.block.saplings_theme_admin:
      simple_config_update:
        status: false
    block.block.saplings_theme_branding:
      simple_config_update:
        region: navigation
        weight: 0
    block.block.saplings_theme_local_actions:
      simple_config_update:
        region: header
        weight: 20
    block.block.saplings_theme_local_tasks:
      simple_config_update:
        region: header
        weight: 10
    block.block.saplings_theme_page_title:
      simple_config_update:
        region: header
        weight: 0
    block.block.saplings_theme_tools:
      simple_config_update:
        region: sidebar_first
        weight: 0
    # Set the default theme.
    system.theme:
      simple_config_update:
        default: saplings_theme
